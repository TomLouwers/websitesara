function initializeAccessibility(){const e=document.getElementById("accessibilityToggle"),t=document.getElementById("accessibilityPanel"),o=document.getElementById("dyslexiaMode"),s=document.getElementById("focusMode"),c=document.getElementById("highContrastMode"),i=document.querySelectorAll(".font-size-btn");loadAccessibilitySettings(),e&&e.addEventListener("click",function(){t.classList.toggle("open")}),document.addEventListener("click",function(o){t.contains(o.target)||e.contains(o.target)||t.classList.remove("open")}),i.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-size");setFontSize(e),i.forEach(e=>e.classList.remove("active")),this.classList.add("active"),localStorage.setItem("accessibilityFontSize",e)})}),o&&o.addEventListener("change",function(){toggleDyslexiaMode(this.checked),localStorage.setItem("accessibilityDyslexia",this.checked)}),s&&s.addEventListener("change",function(){toggleFocusMode(this.checked),localStorage.setItem("accessibilityFocusMode",this.checked)}),c&&c.addEventListener("change",function(){toggleHighContrastMode(this.checked),localStorage.setItem("accessibilityHighContrast",this.checked)})}function loadAccessibilitySettings(){const e=localStorage.getItem("accessibilityFontSize");if(e){setFontSize(e);document.querySelectorAll(".font-size-btn").forEach(t=>{t.getAttribute("data-size")===e?t.classList.add("active"):t.classList.remove("active")})}const t="true"===localStorage.getItem("accessibilityDyslexia"),o=document.getElementById("dyslexiaMode");o&&(o.checked=t,toggleDyslexiaMode(t));const s="true"===localStorage.getItem("accessibilityFocusMode"),c=document.getElementById("focusMode");c&&(c.checked=s,toggleFocusMode(s));const i="true"===localStorage.getItem("accessibilityHighContrast"),n=document.getElementById("highContrastMode");n&&(n.checked=i,toggleHighContrastMode(i))}function setFontSize(e){const t=document.body;t.classList.remove("font-scale-groot","font-scale-extra-groot"),"groot"===e?t.classList.add("font-scale-groot"):"extra-groot"===e&&t.classList.add("font-scale-extra-groot")}function toggleDyslexiaMode(e){const t=document.body;e?t.classList.add("dyslexia-mode"):t.classList.remove("dyslexia-mode")}function toggleFocusMode(e){const t=document.body;e?t.classList.add("focus-mode"):t.classList.remove("focus-mode")}function toggleHighContrastMode(e){const t=document.body;e?t.classList.add("high-contrast"):t.classList.remove("high-contrast")}function resetAccessibilitySettings(){localStorage.removeItem("accessibilityFontSize"),localStorage.removeItem("accessibilityDyslexia"),localStorage.removeItem("accessibilityFocusMode"),localStorage.removeItem("accessibilityHighContrast"),setFontSize("standard"),toggleDyslexiaMode(!1),toggleFocusMode(!1),toggleHighContrastMode(!1);const e=document.getElementById("dyslexiaMode"),t=document.getElementById("focusMode"),o=document.getElementById("highContrastMode");e&&(e.checked=!1),t&&(t.checked=!1),o&&(o.checked=!1);document.querySelectorAll(".font-size-btn").forEach(e=>{"standard"===e.getAttribute("data-size")?e.classList.add("active"):e.classList.remove("active")})}document.addEventListener("DOMContentLoaded",function(){initializeAccessibility()}),"undefined"!=typeof module&&module.exports&&(module.exports={setFontSize:setFontSize,toggleDyslexiaMode:toggleDyslexiaMode,toggleFocusMode:toggleFocusMode,toggleHighContrastMode:toggleHighContrastMode,resetAccessibilitySettings:resetAccessibilitySettings});