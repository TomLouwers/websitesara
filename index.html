<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Website</title>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="verhoudingstabel-widget.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ Sara's Quiz Website</h1>
            <p>Kies een onderwerp en test je kennis!</p>
        </div>

        <div id="landingPage">
            <div class="subject-grid">
                <div class="subject-card" onclick="loadSubject('begrijpendlezen')">
                    <div class="subject-icon">ğŸ“–</div>
                    <h3>Begrijpend Lezen</h3>
                    <p>Test je begrip van teksten en verhalen</p>
                </div>
                <div class="subject-card" onclick="loadSubject('brandaan')">
                    <div class="subject-icon">ğŸ›ï¸</div>
                    <h3>Geschiedenis</h3>
                    <p>Ontdek de Nederlandse geschiedenis</p>
                </div>
                <div class="subject-card" onclick="loadSubject('samenvatten')">
                    <div class="subject-icon">âœï¸</div>
                    <h3>Samenvatten</h3>
                    <p>Leer teksten kort en bondig samen te vatten</p>
                </div>
                <div class="subject-card" onclick="loadSubject('wereldorientatie')">
                    <div class="subject-icon">ğŸŒ</div>
                    <h3>WereldoriÃ«ntatie</h3>
                    <p>Algemene kennis over de wereld</p>
                </div>
                <div class="subject-card" onclick="loadSubject('woordenschat')">
                    <div class="subject-icon">ğŸ“š</div>
                    <h3>Woordenschat</h3>
                    <p>Vergroot je vocabulaire</p>
                </div>
                <div class="subject-card" onclick="loadSubject('verhaaltjessommen')">
                    <div class="subject-icon">ğŸ”¢</div>
                    <h3>Verhaaltjessommen</h3>
                    <p>Reken mee met CITO-niveau verhaaltjes</p>
                </div>
                <div class="subject-card" onclick="loadSubject('basisvaardigheden')">
                    <div class="subject-icon">ğŸ§®</div>
                    <h3>Basisvaardigheden</h3>
                    <p>Oefen de rekenkundige basisvaardigheden</p>
                </div>
               <a href="modules/leesstrategieÃ«n/leesstrategieÃ«n.html" class="subject-card module-card">
                    <div class="subject-icon">ğŸ¯</div>
                    <h3>LeesstrategieÃ«n</h3>
                    <p>Oefen en versterk je leesstrategieÃ«n</p>
                </a>
            </div>
        </div>

        <div id="themePage" style="display: none;">
            <div class="quiz-container">
                <h2 id="subjectTitle">Kies een thema</h2>
                <div id="themeGrid" class="subject-grid"></div>
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-secondary" onclick="goToLanding()">
                        <i class="material-icons">arrow_back</i> Terug naar onderwerpen
                    </button>
                </div>
            </div>
        </div>

        <div id="quizPage" class="quiz-container" style="display: none;">
            <!-- Progress Tracker Section -->
            <div id="progressTracker" class="progress-tracker">
                <div class="progress-tracker-header">
                    <h3 class="progress-tracker-title">ğŸ“Š Voortgang</h3>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div class="progress-summary">
                            <span class="summary-stat correct">âœ“ <span id="totalCorrect">0</span></span>
                            <span class="summary-stat incorrect">âœ— <span id="totalIncorrect">0</span></span>
                            <span class="summary-stat" style="color: var(--secondary-color);">ğŸ“‹ <span id="lovaClicks">0</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="quiz-header">
                <h2 id="quizTitle">Quiz</h2>

                <!-- L.O.V.A. Help Button (only shown for verhaaltjessommen with L.O.V.A. data) -->
                <div id="lovaHelpButton" class="lova-help-button-container hidden">
                    <button class="btn btn-lova-help" onclick="toggleLovaPanel()">
                        <span id="lovaToggleIcon">â–¼</span> ğŸ“‹ L.O.V.A. Stappenplan
                    </button>
                </div>

                <div class="quiz-progress">
                    <div class="quiz-progress-bar" id="progressBar"></div>
                </div>
                <div id="questionCounter">Vraag 1 van 1</div>
            </div>

            <div class="question-container">
                <div id="readingContent" class="reading-content hidden"></div>
                <div class="question-text" id="questionText"></div>

                <!-- Hint Container (voor scaffolding hints) -->
                <div id="hintContainer" style="text-align: center; margin: 20px 0;"></div>

                <!-- L.O.V.A. Help Panel (collapsible guidance) -->
                <div id="lovaHelpPanel" class="lova-help-panel hidden">
                    <div class="lova-help-content">
                        <!-- Stap 1: Lezen -->
                        <div class="lova-help-step">
                            <h4 class="lova-help-step-title">ğŸ“– Stap 1: Lezen</h4>
                            <div class="lova-help-section">
                                <p><strong>Wat wordt er gevraagd?</strong></p>
                                <p id="lovaHelpHoofdvraag" class="lova-help-text"></p>
                            </div>
                            <div class="lova-help-section">
                                <p><strong>Let op: dit is ruis (niet nodig voor deze vraag):</strong></p>
                                <ul id="lovaHelpRuis" class="lova-help-list"></ul>
                            </div>
                            <div class="lova-help-section">
                                <p><strong>Tussenstappen:</strong></p>
                                <ul id="lovaHelpTussenstappen" class="lova-help-list"></ul>
                            </div>
                        </div>

                        <!-- Stap 2: Ordenen -->
                        <div class="lova-help-step">
                            <h4 class="lova-help-step-title">ğŸ—ƒï¸ Stap 2: Ordenen</h4>
                            <div class="lova-help-section">
                                <p><strong>Relevante getallen:</strong></p>
                                <ul id="lovaHelpGetallen" class="lova-help-list"></ul>
                            </div>
                            <div class="lova-help-section">
                                <p><strong>Wiskundige tool:</strong></p>
                                <p id="lovaHelpTool" class="lova-help-text"></p>
                            </div>
                        </div>

                        <!-- Stap 3: Vormen -->
                        <div class="lova-help-step">
                            <h4 class="lova-help-step-title">âœï¸ Stap 3: Vormen</h4>
                            <div id="lovaHelpBewerkingen" class="lova-help-bewerkingen"></div>
                        </div>

                        <!-- Stap 4: Antwoorden -->
                        <div class="lova-help-step">
                            <h4 class="lova-help-step-title">âœ… Stap 4: Antwoorden</h4>
                            <div class="lova-help-section">
                                <p><strong>Verwachte eenheid:</strong> <span id="lovaHelpEenheid" class="lova-help-text"></span></p>
                            </div>
                            <div class="lova-help-section">
                                <p><strong>Logica check:</strong></p>
                                <p id="lovaHelpLogica" class="lova-help-text"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quiz content (always visible in regular quiz mode) -->
                <div id="optionsContainer" class="options-container"></div>
                <textarea id="textareaAnswer" class="textarea-answer hidden" placeholder="Typ hier je antwoord..."></textarea>
            </div>

            <div id="feedbackSection" class="hidden">
                <h4 id="feedbackTitle"></h4>
                <p id="feedbackMessage"></p>
                <p id="correctAnswerDisplay" class="hidden"></p>
                <div id="verhoudingstabelContainer"></div>
                <p id="extraInfoDisplay" class="hidden"></p> <div id="strategyAndTips" class="hidden">
                    <h4>Strategie</h4>
                    <p id="strategyText"></p>
                    <h4>Tips</h4>
                    <ul id="tipsList"></ul>
                </div>
            </div>

            <div class="quiz-controls">
                <div>
                    <button class="btn btn-secondary" onclick="goToLanding()">
                        <i class="material-icons">arrow_back</i> Terug
                    </button>
                    <button class="btn btn-secondary" onclick="stopQuiz()" style="background-color: #e07a5f; color: white;">
                        <i class="material-icons">stop</i> Stop
                    </button>
                </div>
                <div>
                    <button class="btn" id="submitBtn" onclick="submitAnswer()">
                        <i class="material-icons">check_circle_outline</i> Controleer Antwoord
                    </button>
                    <button class="btn hidden" id="nextBtn" onclick="nextQuestion()">
                        Volgende Vraag <i class="material-icons">arrow_forward</i>
                    </button>
                </div>
            </div>
        </div>

        <div id="resultsPage" class="results-container" style="display: none;">
            <div class="results-score" id="finalScore">0/0</div>
            <div class="results-message" id="resultsMessage">Goed gedaan!</div>
            <button class="btn" onclick="goToLanding()">
                <i class="material-icons">refresh</i> Nieuwe Quiz
            </button>
        </div>

        <div id="reviewPage" class="results-container" style="display: none;">
            <h2 style="color: var(--primary-color); margin-bottom: 20px;">ğŸ“š Leermoment: Review je fouten</h2>
            <div class="results-score" id="reviewScore">0/0</div>
            <div class="results-message" id="reviewMessage">Hier zijn de vragen die je fout had. Bestudeer ze goed!</div>

            <div id="wrongAnswersContainer" style="margin-top: 30px;">
                <!-- Wrong answers will be dynamically inserted here -->
            </div>

            <button class="btn" onclick="goToLanding()" style="margin-top: 30px;">
                <i class="material-icons">refresh</i> Nieuwe Quiz
            </button>
        </div>
    </div>

    <!-- Foutanalyse Modaal (Fout Antwoord) -->
    <div id="foutanalyseModaal" class="modaal-overlay">
        <div class="modaal-content">
            <div class="modaal-header">
                <h2 id="modaalTitle">ğŸ›‘ Oeps! Dit is niet juist</h2>
                <button class="modaal-close" onclick="closeFoutanalyseModaal()">âœ•</button>
            </div>

            <!-- Error Type Badge -->
            <div id="errorBadge" class="error-badge"></div>

            <!-- Foutanalyse Section -->
            <div class="fault-analysis-section">
                <h3>Wat ging er mis?</h3>
                <p id="mainExplanation" class="main-explanation"></p>

                <!-- Reflection Question -->
                <div id="reflectionBox" class="reflection-box" style="display: none;">
                    <div class="reflection-header">
                        <span class="reflection-icon">ğŸ¤”</span>
                        <strong>REFLECTIEVRAAG:</strong>
                    </div>
                    <p id="reflectionText" class="reflection-text"></p>
                </div>
            </div>

            <!-- Visual Aid Section -->
            <div id="visualAidSection" class="visual-aid-section" style="display: none;">
                <h4>
                    <span class="visual-icon">ğŸ“Š</span>
                    <span id="visualAidTitle"></span>
                </h4>
                <div id="visualAidContent" class="visual-content"></div>
                <button id="videoButton" class="video-button" style="display: none;">
                    â–¶ï¸ Bekijk Uitleg: <span id="videoTitle"></span>
                </button>
            </div>

            <!-- Remedial Section -->
            <div id="remedialSection" class="remedial-section" style="display: none;">
                <div class="remedial-alert">
                    ğŸš¨ Eerst de Basis Herstellen!
                </div>
                <p id="remedialExplanation" class="remedial-explanation"></p>
                <button id="remedialCta" class="remedial-cta">
                    <span class="cta-icon">ğŸ¯</span>
                    <span id="remedialCtaText" class="cta-text"></span>
                </button>
                <div class="exercise-info">
                    <span class="info-icon">â„¹ï¸</span>
                    <span>5 eenvoudige oefenopgaven</span>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="modaal-actions">
                <button class="btn btn-primary" onclick="closeFoutanalyseModaal()">
                    Probeer Opnieuw
                </button>
            </div>
        </div>
    </div>

    <!-- Success Modaal (na juist antwoord) -->
    <div id="successModaal" class="modaal-overlay">
        <div class="modaal-content">
            <div class="modaal-header">
                <h2>âœ… Goed gedaan! Hier is de uitleg</h2>
                <button class="modaal-close" onclick="closeSuccessModaal()">âœ•</button>
            </div>

            <!-- L.O.V.A. Accordion -->
            <div class="lova-accordion">
                <button class="accordion-toggle" onclick="toggleLovaAccordion()">
                    <span id="lovaToggleIcon">â–¼</span>
                    ğŸ“š L.O.V.A. Stappenplan (klik om uit te klappen)
                </button>
                <div id="lovaContent" class="accordion-content">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Berekening Tabel -->
            <div class="berekening-section">
                <h3>ğŸ§® Berekening Stap voor Stap</h3>
                <div id="berekeningTable"></div>
            </div>

            <!-- Concept Box -->
            <div class="concept-box">
                <h3>ğŸ’¡ Onthoud dit Concept</h3>
                <p id="conceptText"></p>
            </div>

            <div class="modaal-actions">
                <button class="btn btn-primary" onclick="nextQuestion()">
                    Volgende Vraag
                </button>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="verhoudingstabel-widget.js"></script>
    <script src="foutanalyse-modaal.js"></script>
    <script src="app.js"></script>
</body>
</html>